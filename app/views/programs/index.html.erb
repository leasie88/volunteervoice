<html>
<head>
    <% @nums = Array.new%>
	<% @progNums = Array.new%>
    <% @countries_with_programs.each do |f|%>
	<% @progNums << Program.where(:location => f).count unless f == ""%>
    <% @nums << @allCountries.index(f) unless (@allCountries.index(f).nil?)%>
    <% end %>
	

	<p style="text-align:center; margin-top:40px">
    <%= image_tag "/assets/whereGo.png"%></p>

    <!-- MAP!!!!! -->

     <head>
		 <script type="text/javascript" src="https://www.google.com/jsapi"></script>
		      <script type="text/javascript">
		    google.load("visualization", "1", {"packages": ["geochart"]});
			google.setOnLoadCallback(drawRegionsMap);

			var countries = [
			    'US',
			    'CA',
			    'FR'
			];
			var names = [
			    'United States',
			    'Canada',
			    'France'
			];
			var numbers = [
			    1,
			    2,
			    3
			];
			function drawRegionsMap() {
			    var data = new google.visualization.DataTable();
			    data.addRows(numbers.length);
			    data.addColumn("string", "CountryID");
			    data.addColumn("string", "Country");
			    data.addColumn("number", "Programs");
			    data.addColumn({
			        type: 'string',
			        role: 'tooltip'
			    });

			    for (var i = 0; i < numbers.length; i++) {
			        data.setValue(i, 0, countries[i]);
			        data.setValue(i, 1, names[i]);
			        data.setValue(i, 2, 200);
			        data.setValue(i, 3, "Programs: ");
			    }

			    var options = {
			        width: 1.4 * 556,
			        height: 1.4 * 347,
			        backgroundColor: "#E3E6D5",
			        datalessRegionColor: "#BCDFC3",
			        colors: ["#FC8767",
			            "#FC8767"],
			        legend: "none"
			    };

			    var container = document.getElementById("visualization");

			    var geochart = new google.visualization.GeoChart(container);

			    google.visualization.events.addListener(geochart, "regionClick", function(eventData) {
			        document.location = "http://volunteervoice.herokuapp.com/pages/" + eventData.region + "/searches";
			    });

			    geochart.draw(data, options);
			};â€‹
		      </script>
		    </head>

		    <body>
		        <br />
		        <br />
		        <br />
		        <br />
		        <div class="row">
		            <div class="eleven columns" align="center" style="width:80%">
		      <div style="margin-left:6.5%" id="visualization" ></div>
		            </div>
		        <div class="one columns" style="float:right; text-align:center; line-height:2em; margin-top:200px; font-family:architectsDaughterRegular; color:#62acbd; width:13%">
		            Click a region or country to see which organizations can get you there!
		            </div>
		        </div>



<!-- THE DROP DOWN COUNTRIES -->
	<%= javascript_include_tag "/assets/jquery.js"%>
    <script type="text/javascript">
        $(document).ready(function() {
            setTimeout(function() {
                // Slide
                $("#menu1 > li > a.expanded + ul").slideToggle("medium");
                $("#menu1 > li > a").click(function() {
                    $(this).toggleClass("expanded").toggleClass("collapsed").parent().find("> ul").slideToggle("medium");
                });
                $("#example1 .expand_all").click(function() {
                    $("#menu1 > li > a.collapsed").addClass("expanded").removeClass("collapsed").parent().find("> ul").slideDown("medium");
                });
                $("#example1 .collapse_all").click(function() {
                    $("#menu1 > li > a.expanded").addClass("collapsed").removeClass("expanded").parent().find("> ul").slideUp("medium");
                });
            }, 250);
            $("#AfricaRow").click(function(){
                var count = 1;
                $(".AfricaContent").toggle();
                $(".AfricaBackground").toggle();
                $(".AfricaNoBackground").toggle();
                
              });

            $("#EuropeRow").click(function(){
                $(".EuropeContent").toggle();
                $(".EuropeBackground").toggle();
                $(".EuropeNoBackground").toggle();
              });

            $("#AmericasRow").click(function(){
                $(".AmericasContent").toggle();
                $(".AmericasBackground").toggle();
                $(".AmericasNoBackground").toggle();
              });

            $("#AsiaRow").click(function(){
                $(".AsiaContent").toggle();
                $(".AsiaBackground").toggle();
                $(".AsiaNoBackground").toggle();
              });
                

            $("#OceaniaRow").click(function(){
                $(".OceaniaContent").toggle();
                $(".OceaniaBackground").toggle();
                $(".OceaniaNoBackground").toggle();
              });
            
            $("#OtherRow").click(function(){
                $(".OtherContent").toggle();
                $(".OtherBackground").toggle();
                $(".OtherNoBackground").toggle();
              });
            
        });


        </script>


<br />
<br />



    <div class="container" style="width:95%">
        
<div style="height:1px; background-color:#FC8767; margin-left:15%; margin-right:15%;"></div>

<table id="AmericasDiv" cellpadding="5" cellspacing="3" style=" background-color:#E3E6D5; margin-left:15%; margin-right:15%; width:70%">
    <tr id = "AmericasRow">
        <td width="90%" style="padding:0;margin:0"><div class="AmericasBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">Americas</font></div><div class="AmericasNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-left:5%">Americas </font></div></td>
        <td width="10%" class="AmericasToggle" style="text-align:right; padding:0;margin:0"><div class="AmericasBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">- </font></div><div class="AmericasNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-right:15%">+ </font></div></td>
    </tr>
<table style="margin-left:15%; display:none; background-color:#c1dfdb; width:70%" class="AmericasContent">
            <tr style="background-color:#c1dfdb">
                <td>
        <table cellpadding="1" style="background-color:#c1dfdb; margin-left:50px">
        <% @theRegions[10].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        <% @theRegions[11].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
            </table>
                </td>
                <td>

        <table cellpadding="1" style="background-color:#c1dfdb">
        <% @theRegions[12].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        <% @theRegions[13].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
            </table>
            </td>
        </tr>
    </table>
</table>
</table>

<div style="height:1px; background-color:#FC8767; margin-left:15%; margin-right:15%;"></div>

<table id="EuropeDiv" cellpadding="5" cellspacing="3" style=" background-color:#E3E6D5; margin-left:15%; margin-right:15%; width:70%">
    <tr id = "EuropeRow">
        <td width="90%" style="padding:0;margin:0"><div class="EuropeBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">Europe</font></div><div class="EuropeNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-left:5%">Europe </font></div></td>
        <td width="10%" class="EuropeToggle" style="text-align:right; padding:0;margin:0"><div class="EuropeBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">- </font></div><div class="EuropeNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-right:15%">+ </font></div></td>
    </tr>
    <table style="margin-left:15%; display:none; background-color:#c1dfdb; width:70%" class="EuropeContent">
            <tr style="background-color:#c1dfdb">
                <td width="50%">
        <table cellpadding="1" style="background-color:#c1dfdb;margin-left:50px">
        <% @theRegions[6].each do |f|%>
                                    <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        <% @theRegions[7].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
            </table>
                </td>
                <td width="50%">

        <table cellpadding="1" style="background-color:#c1dfdb">
        <% @theRegions[8].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        <% @theRegions[9].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
            </table>
            </td>
        </tr>
    </table>
</table>

<div style="height:1px; background-color:#FC8767; margin-left:15%; margin-right:15%;"></div>

<table id = "AfricaDiv" cellpadding="5" cellspacing="3" style=" margin-left:15%; margin-right:15%; width:70%">
    <tr id = "AfricaRow" style="background-color:#E3E6D5;">
        <td width="90%" style="padding:0;margin:0"><div class="AfricaBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">Africa</font></div><div class="AfricaNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-left:5%" style="margin-left:5%">Africa </font></div></td>
        <td width="10%" class="AfricaToggle" style="text-align:right; padding:0;margin:0"><div class="AfricaBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">- </font></div><div class="AfricaNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-right:15%">+ </font></div></td>
        </tr>
        <table style="margin-left:15%; display:none; width:70%" class="AfricaContent">
            <tr style="background-color:#c1dfdb">
                <td>
        <table cellpadding="1" style="background-color:#c1dfdb; margin-left:50px">
        <% @theRegions[1].each do |f|%>
            <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        <% @theRegions[2].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        <% @theRegions[3].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
            </table>
                </td>
                <td>

        <table cellpadding="1" style="background-color:#c1dfdb">
        <% @theRegions[4].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        <% @theRegions[5].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
            </table>
            </td>
        </tr>
    </table>

</table>


<div style="height:1px; background-color:#FC8767; margin-left:15%; margin-right:15%;"></div>


<table id="AsiaDiv" cellpadding="5" cellspacing="3" style=" background-color:#E3E6D5; margin-left:15%; margin-right:15%; width:70%">
    <tr id = "AsiaRow">
        <td width="90%" style="padding:0;margin:0"><div class="AsiaBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">Asia</font></div><div class="AsiaNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-left:5%">Asia </font></div></td>
        <td width="10%" class="AsiaToggle" style="text-align:right; padding:0;margin:0"><div class="AsiaBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">- </font></div><div class="AsiaNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-right:15%">+ </font></div></td>
    </tr>
<table style="margin-left:15%; display:none; background-color:#c1dfdb; width:70%" class="AsiaContent">
            <tr style="background-color:#c1dfdb">
                <td>
        <table cellpadding="1" style="background-color:#c1dfdb; margin-left:50px">
        <% @theRegions[14].each do |f|%>
                                   <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        <% @theRegions[15].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        <% @theRegions[16].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        <% @theRegions[17].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
            </table>
                </td>
                <td>

        <table cellpadding="1" style="background-color:#c1dfdb">
        <% @theRegions[18].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
            </table>
            </td>
        </tr>
    </table>
    </table>
</table>

<div style="height:1px; background-color:#FC8767; margin-left:15%; margin-right:15%;"></div>

<table id="OceaniaDiv" cellpadding="5" cellspacing="3" style=" background-color:#E3E6D5; margin-left:15%; margin-right:15%; width:70%">
    <tr id = "OceaniaRow">
        <td width="90%" style="padding:0;margin:0"><div class="OceaniaBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">Oceania</font></div><div class="OceaniaNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-left:5%">Oceania </font></div></td>
        <td width="10%" class="OceaniaToggle" style="text-align:right; padding:0;margin:0"><div class="OceaniaBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">- </font></div><div class="OceaniaNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-right:15%">+ </font></div></td>
    </tr>
            <table style="margin-left:15%; display:none; background-color:#c1dfdb; width:70%" class="OceaniaContent">
            <tr style="background-color:#c1dfdb">
                <td>
        <table cellpadding="1" style="background-color:#c1dfdb; margin-left:50px">
        <% @theRegions[19].each do |f|%>
                                   <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        <% @theRegions[20].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
                <% @theRegions[21].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
            </table>
                </td>
                <td>

        <table cellpadding="1" style="background-color:#c1dfdb">
        <% @theRegions[22].each do |f|%>
                        <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
            </table>
            </td>
        </tr>
    </table>
    </table>
</table>

<div style="height:1px; background-color:#FC8767; margin-left:15%; margin-right:15%;"></div>

<table id="OtherDiv" cellpadding="5" cellspacing="3" style=" background-color:#E3E6D5; margin-left:15%; margin-right:15%; width:70%; display:none">
    <tr id = "OtherRow">
        <td width="90%" style="padding:0;margin:0"><div class="OtherBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">Other</font></div><div class="OtherNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-left:5%">Other </font></div></td>
        <td width="10%" class="OtherToggle" style="text-align:right; padding:0;margin:0"><div class="OtherBackground" style="background-color:#c1dfdb; padding:10px; display:none"><font color="#62acbd" size="5" style="margin-left:5%">- </font></div><div class="OtherNoBackground" style="padding:5px;"><font color="#62acbd" size="5" style="margin-right:15%">+ </font></div></td>
    </tr>
            <table style="margin-left:15%; display:none; background-color:#c1dfdb; width:70%" class="OtherContent">
            <tr style="background-color:#c1dfdb">
                <td>
        <table cellpadding="1" style="background-color:#c1dfdb; margin-left:50px">
        <% @theRegions[0].each do |f|%>
                                    <% if !(Program.where(:location => f).empty?) %>
                        <tr style="background-color:#c1dfdb"><td><a style="font-size:1.2em" href="/pages/<%=f%>/searches"><%=@theCountries[f]%></a></td></tr>
            <%end%>
        <% end %>
        
            </table>
            </td>
        </tr>
    </table>
</table>

<div style="height:1px; background-color:#FC8767; margin-left:15%; margin-right:15%; display:none"></div>
</div>
</div>
</div>

<div align="center" style="font-family:architectsDaughterRegular; margin-top:60px;color:#e67b5a; margin-bottom:30px; width:98%">
    Note: if the country you want to visit isn't listed, we have not yet profiled a company with programs there.
    </div>

</body>
</html>